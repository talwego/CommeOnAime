
<div id="background">
  <div id="formulaire">
    <form (ngSubmit)="save()" #form="ngForm">
      <!--
      <div class="divCentreFlex">
        <div>
          <h2 *ngIf="!message.id">Création d'un nouveau message</h2>
          <h2 *ngIf="message.id">Mise à jour d'un message</h2>
        </div>
      </div>
      -->

      <div class="form-group" *ngIf="message.id">
        <div class="divACoteFlex">
          <div class="text">Mon id est...</div>
          <input
              class="form-control"
              name="id"
              id="id"
              [(ngModel)]="message.id"
              readonly
            />
        </div>
      </div>

      <div class="form-group">
        <div class="divACoteFlex">
          <!--<div class="text">Mon texte est...</div>-->
          <input
          class="form-control"
          id="text"
          name="text"
          [(ngModel)]="message.text"
          #textCtrl="ngModel"
          required
          minlength="2"
        />
        </div>
        <div
          *ngIf="textCtrl.dirty && textCtrl.invalid"
          class="alert alert-danger"
        >
          <ng-container *ngIf="textCtrl.hasError('required')">
            texte obligatoire
          </ng-container>
          <ng-container *ngIf="textCtrl.hasError('minlength')">
            2 caracteres minimum
          </ng-container>
        </div>
      </div>

      <!--<div class="form-group">
        <div class="divACoteFlex">
          <div class="text">Envoyeur : </div>
          <input
          class="form-control"
          id="envoyeur"
          name="envoyeur"
          [(ngModel)]="message.envoyeur"
          #envoyeurCtrl="ngModel"
          required
        />
        </div>
        <div *ngIf="envoyeurCtrl.dirty && envoyeurCtrl.invalid" class="alert alert-danger">
          envoyeur obligatoire
        </div>
      </div>-->

      <!--<div class="form-group">
        <div class="divACoteFlex">
          <div class="text">recepteur</div>
          <input
          class="form-control"
          id="recepteur"
          name="recepteur"
          [(ngModel)]="message.recepteur"
          #recepteurCtrl="ngModel"
          required
          />
        </div>
        <div
          *ngIf="recepteurCtrl.dirty && recepteurCtrl.invalid"
          class="alert alert-danger"
          >
          recepteur obligatoire
        </div>
      </div>-->

    <div class="divCentreFlex">
      <button type="submit" class="btn btn-outline-primary">Envoyer</button>
      <!--<a
        routerLink="/message"
        routerLinkActive="active"
        class="btn btn-outline-warning"
        >annuler</a
      >-->
    </div>
  </form>
</div>
